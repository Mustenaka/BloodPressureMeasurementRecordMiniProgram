"use strict";var e=require("../../common/vendor.js");const t={data:()=>({patientInfo:{RealName:"",Sex:"",Birthday:"",Tel:"",IsMarried:"",HbpYears:0,Anamnesis:"暂无",IsSmoking:"",SmokingHistory:0,SmokingDaily:0,IsDrink:"",DrinkHistory:0,DrinkDaily:0,PatientHeight:0,PatientWeight:0,PatientWaistCircumference:0,PatientChestCircumference:0,PatientHipCircumference:0,IsTakeChineseMedicine:"",AntihypertensivePlan:"无方案",IsNondrugControlPlan:"",NondrugControlPlan:"无方案"},sex:[{text:"男",value:"男"},{text:"女",value:"女"},{text:"其他",value:"其他"}],marriage:[{text:"已婚",value:!0},{text:"未婚",value:!1}],isSmoke:[{text:"吸烟",value:!0},{text:"不吸烟",value:!1}],isDrink:[{text:"饮酒",value:!0},{text:"不饮酒",value:!1}],isUseChineseMedical:[{text:"服用",value:!0},{text:"不服用",value:!1}],isUseNondrugTreatments:[{text:"采用",value:!0},{text:"不采用",value:!1}]}),onLoad(){this.getData()},methods:{changeValue_HbpYears(e){this.patientInfo.HbpYears=e},changeValue_SmokingHistory(e){this.patientInfo.SmokingHistory=e},changeValue_SmokingDaily(e){this.patientInfo.SmokingDaily=e},changeValue_DrinkHistory(e){this.patientInfo.DrinkHistory=e},changeValue_DrinkDaily(e){this.patientInfo.DrinkDaily=e},changeValue_PatientHeight(e){this.patientInfo.PatientHeight=e},changeValue_PatientWeight(e){this.patientInfo.PatientWeight=e},changeValue_PatientWaistCircumference(e){this.patientInfo.PatientWaistCircumference=e},changeValue_PatientChestCircumference(e){this.patientInfo.PatientChestCircumference=e},changeValue_PatientHipCircumference(e){this.patientInfo.DrinkDaily=e},submitTest(){console.log("Test button:"+this.patientInfo.SmokingHistory)},getData(){this.$http.sendRequest("http://1.117.222.119/v1/user/patientinfo","GET",{}).then((e=>{console.log(e);var t=e.data.data;this.patientInfo.RealName=t.real_name,this.patientInfo.Sex=t.sex,this.patientInfo.Birthday=t.birthday.slice(0,10),this.patientInfo.Tel=t.tel,this.patientInfo.IsMarried=t.is_married,this.patientInfo.HbpYears=t.hbp_years,this.patientInfo.Anamnesis=t.anamnesis,this.patientInfo.IsSmoking=t.is_smoking,this.patientInfo.SmokingHistory=t.smoking_history,this.patientInfo.SmokingDaily=t.smoking_daily,this.patientInfo.IsDrink=t.is_drink,this.patientInfo.DrinkHistory=t.drink_history,this.patientInfo.DrinkDaily=t.drink_daily,this.patientInfo.PatientHeight=t.patient_height,this.patientInfo.PatientWeight=t.patient_weight,this.patientInfo.PatientWaistCircumference=t.patient_waist_circumference,this.patientInfo.PatientChestCircumference=t.patient_chest_circumference,this.patientInfo.PatientHipCircumference=t.patient_hip_circumference,this.patientInfo.IsTakeChineseMedicine=t.is_take_chinese_medicine,this.patientInfo.AntihypertensivePlan=t.antihypertensive_plan,this.patientInfo.IsNondrugControlPlan=t.is_nondrug_control_plan,this.patientInfo.NondrugControlPlan=t.nondrug_control_plan})).catch((e=>{console.log(e),console.log("请求失败，本页面将认为是第一次获取")}))},submit(){var t={real_name:this.patientInfo.RealName,sex:this.patientInfo.Sex,birthday:this.patientInfo.Birthday,tel:this.patientInfo.Tel,is_married:this.patientInfo.IsMarried,hbp_years:this.patientInfo.HbpYears,anamnesis:this.patientInfo.Anamnesis,is_smoking:this.patientInfo.IsSmoking,smoking_history:this.patientInfo.SmokingHistory,smoking_daily:this.patientInfo.SmokingDaily,is_drink:this.patientInfo.IsDrink,drink_history:this.patientInfo.DrinkHistory,drink_daily:this.patientInfo.DrinkDaily,patient_height:this.patientInfo.PatientHeight,patient_weight:this.patientInfo.PatientWeight,patient_waist_circumference:this.patientInfo.PatientWaistCircumference,patient_chest_circumference:this.patientInfo.PatientChestCircumference,patient_hip_circumference:this.patientInfo.PatientHipCircumference,is_take_chinese_medicine:this.patientInfo.IsTakeChineseMedicine,antihypertensive_plan:this.patientInfo.AntihypertensivePlan,is_nondrug_control_plan:this.patientInfo.IsNondrugControlPlan,nondrug_control_plan:this.patientInfo.NondrugControlPlan};this.$http.sendRequest("http://1.117.222.119/v1/user/wxpatientinfo","POST",t).then((t=>{console.log(t),400!=t.statusCode?e.index.showToast({title:"录入成功",icon:"none"}):e.index.showToast({title:"新增患者数据失败，请检查信息是否填写完整",icon:"none"})})).catch((t=>{console.log(t),e.index.showToast({title:"请求失败",icon:"none"})}))}}};if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-section")+e.resolveComponent("uni-data-checkbox")+e.resolveComponent("uni-datetime-picker")+e.resolveComponent("uni-number-box"))()}Math||((()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.js")+(()=>"../../uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.js")+(()=>"../../uni_modules/uni-number-box/components/uni-number-box/uni-number-box.js"))();var n=e._export_sfc(t,[["render",function(t,n,i,a,o,s){return{a:e.o((e=>o.patientInfo.RealName=e)),b:e.p({errorMessage:!0,focus:!0,placeholder:"请输入内容",modelValue:o.patientInfo.RealName}),c:e.p({title:"患者姓名",type:"line",padding:!0}),d:e.o((e=>o.patientInfo.Sex=e)),e:e.p({localdata:o.sex,modelValue:o.patientInfo.Sex}),f:e.p({title:"性别",type:"line"}),g:e.o((e=>o.patientInfo.Birthday=e)),h:e.p({type:"date",modelValue:o.patientInfo.Birthday}),i:e.o((e=>o.patientInfo.Tel=e)),j:e.p({errorMessage:!0,focus:!0,placeholder:"请输入内容",modelValue:o.patientInfo.Tel}),k:e.p({title:"电话号码",type:"line",padding:!0}),l:e.o((e=>o.patientInfo.IsMarried=e)),m:e.p({localdata:o.marriage,modelValue:o.patientInfo.IsMarried}),n:e.p({title:"单选",type:"line"}),o:e.o(s.changeValue_HbpYears),p:e.p({value:o.patientInfo.HbpYears}),q:e.p({title:t.高血压年份,type:"line",padding:!0}),r:e.o((e=>o.patientInfo.Anamnesis=e)),s:e.p({errorMessage:!0,focus:!0,placeholder:"请输入内容",modelValue:o.patientInfo.Anamnesis}),t:e.p({title:"既往病史",type:"line",padding:!0}),v:e.o((e=>o.patientInfo.IsSmoking=e)),w:e.p({localdata:o.isSmoke,modelValue:o.patientInfo.IsSmoking}),x:e.p({title:"单选",type:"line"}),y:e.o(s.changeValue_SmokingHistory),z:e.p({value:o.patientInfo.SmokingHistory}),A:e.p({title:"吸烟史（年份）",type:"line",padding:!0}),B:e.o(s.changeValue_SmokingDaily),C:e.p({value:o.patientInfo.SmokingDaily}),D:e.p({title:"日吸烟数",type:"line",padding:!0}),E:e.o((e=>o.patientInfo.IsDrink=e)),F:e.p({localdata:o.isDrink,modelValue:o.patientInfo.IsDrink}),G:e.p({title:"是否饮酒",type:"line"}),H:e.o(s.changeValue_DrinkHistory),I:e.p({value:o.patientInfo.DrinkHistory}),J:e.p({title:"饮酒史（年份）",type:"line",padding:!0}),K:e.o(s.changeValue_DrinkDaily),L:e.p({value:o.patientInfo.DrinkDaily}),M:e.p({title:"每日饮酒量",type:"line",padding:!0}),N:e.o(s.changeValue_PatientHeight),O:e.p({value:o.patientInfo.PatientHeight,min:0,max:1e3}),P:e.p({title:"身高",type:"line",padding:!0}),Q:e.o(s.changeValue_PatientWeight),R:e.p({value:o.patientInfo.PatientWeight,min:0,max:1e3}),S:e.p({title:"体重",type:"line",padding:!0}),T:e.o(s.changeValue_PatientWaistCircumference),U:e.p({value:o.patientInfo.PatientWaistCircumference,min:0,max:1e3}),V:e.p({title:"腰围",type:"line",padding:!0}),W:e.o(s.changeValue_PatientChestCircumference),X:e.p({value:o.patientInfo.PatientChestCircumference,min:0,max:1e3}),Y:e.p({title:"胸围",type:"line",padding:!0}),Z:e.o(s.changeValue_PatientHipCircumference),aa:e.p({value:o.patientInfo.PatientHipCircumference,min:0,max:1e3}),ab:e.p({title:"臀围",type:"line",padding:!0}),ac:e.o((e=>o.patientInfo.IsTakeChineseMedicine=e)),ad:e.p({localdata:o.isUseChineseMedical,modelValue:o.patientInfo.IsTakeChineseMedicine}),ae:e.p({title:"是否服用中药",type:"line"}),af:e.o((e=>o.patientInfo.AntihypertensivePlan=e)),ag:e.p({errorMessage:!0,focus:!0,placeholder:"请输入内容",modelValue:o.patientInfo.AntihypertensivePlan}),ah:e.p({title:"降压方案",type:"line",padding:!0}),ai:e.o((e=>o.patientInfo.IsNondrugControlPlan=e)),aj:e.p({localdata:o.isUseNondrugTreatments,modelValue:o.patientInfo.IsNondrugControlPlan}),ak:e.p({title:"是否非药物控制手段",type:"line"}),al:e.o((e=>o.patientInfo.NondrugControlPlan=e)),am:e.p({errorMessage:!0,focus:!0,placeholder:"请输入内容",modelValue:o.patientInfo.NondrugControlPlan}),an:e.p({title:"非药物控制手段",padding:!0}),ao:e.o(((...e)=>s.submit&&s.submit(...e))),ap:e.o(((...e)=>s.submitTest&&s.submitTest(...e)))}}]]);wx.createPage(n);
