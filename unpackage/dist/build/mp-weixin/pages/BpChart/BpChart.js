"use strict";var t=require("../../common/vendor.js");const a={data:()=>({chartData:{},opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,10,0,15],enableScroll:!0,legend:{},xAxis:{axisLine:!0,disableGrid:!0,scrollShow:!0,itemCount:4,rotateLabel:!0},yAxis:{disabled:!1,splitNumber:1,gridType:"dash",dashLength:2,padding:20},extra:{markLine:{data:[{value:130,showLabel:!0,lineColor:"#E8FA43",labelText:"130"},{value:80,showLabel:!0,lineColor:"#E8FA43",labelText:"80"},{value:140,showLabel:!0,lineColor:"#FF1C6B",labelText:"140"},{value:90,showLabel:!0,lineColor:"#FF1C6B",labelText:"90"}]},line:{type:"straight",width:2}}},daysCount:60,limit_days:1}),onReady(){this.submit()},methods:{valueChange(t){this.daysCount=t},submit7days(){this.limit_days=7,this.submit()},submit30days(){this.limit_days=30,this.submit()},submitCustomizedays(){this.limit_days=this.daysCount,this.submit()},submit(){const t="v1/user/bprecord?limit_days="+this.limit_days;console.log(this.limit_days),this.$http.sendRequest(t,"GET",{}).then((t=>{console.log(t);var a=[],s=[{name:"低压",data:[]},{name:"高压",data:[]}];for(var e of t.data.data){var i=e.record_date.split("T")[0],o=i.split("-")[1]+"-"+i.split("-")[2]+" "+e.record_time;a.push(o),s[0].data.push(e.low_pressure),s[1].data.push(e.high_pressure)}var n={categories:a,series:s};this.chartData=JSON.parse(JSON.stringify(n))})).catch((t=>{console.log(t)}))}}};if(!Array){(t.resolveComponent("qiun-data-charts")+t.resolveComponent("uni-number-box")+t.resolveComponent("uni-section"))()}Math||((()=>"../../uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts.js")+(()=>"../../uni_modules/uni-number-box/components/uni-number-box/uni-number-box.js"))();var s=t._export_sfc(a,[["render",function(a,s,e,i,o,n){return{a:t.p({type:"line",opts:o.opts,chartData:o.chartData,ontouch:!0,canvas2d:!0}),b:t.o(((...t)=>n.submit7days&&n.submit7days(...t))),c:t.o(((...t)=>n.submit30days&&n.submit30days(...t))),d:t.o(((...t)=>n.submitCustomizedays&&n.submitCustomizedays(...t))),e:t.o(n.valueChange),f:t.p({value:o.daysCount,min:0,max:360}),g:t.p({title:"自定义天数: "+o.daysCount,type:"line",padding:!0})}}]]);wx.createPage(s);
